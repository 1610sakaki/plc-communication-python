# plc-communication-python

# 概要
MELSEC_MCプロトコルを使用してPLC（Programmable Logic Controller）と通信するためのPythonコードを説明してます。

## 動作環境
Pythonのバージョン3.6以降

## 実行手順
melsec.jsonファイルを作成し、必要な情報を定義します。
Pythonファイルを実行します。引数に"r"または"w"を指定してください。

## ソースコード
MySocket: PLCとのソケット通信を行うためのクラス
MakeCommand: 送信するコマンドを作成するためのクラス
main: メイン関数

やっていることは以下の通りです。
1. melsec.jsonファイルから必要な情報を読み込む
2. PLCとの通信に必要なオブジェクトを作成する
3. 読み込み/書き込みするデバイスのアドレスを指定する
4. PLCと通信してデータを読み込む/書き込む
5. 通信が完了したらオブジェクトをクローズする


## 設定JSONファイル
このJSONファイルは、Mitsubishi Electric社のプログラマブルロジックコントローラー (PLC) で使用されるMELSEC通信プロトコルに関連する情報を定義しています。

"socket_settings"オブジェクトには、PLCに接続するためのIPアドレスとポート番号が含まれています。

"common"オブジェクトには、通信に必要ないくつかの情報が含まれています。たとえば、"net"と"pc"は、PLCの種類とステーション番号を識別するためのものであり、"unitio"と"unitno"は、通信に使用されるユニットとそのユニットの番号を指定します。

"read"オブジェクトには、PLCからデータを読み取るために必要な情報が含まれています。たとえば、"device"フィールドには、データを読み取るために使用されるアドレスが指定されています。

"write"オブジェクトには、PLCにデータを書き込むために必要な情報が含まれています。"devicedata"フィールドには、書き込むデータが指定されています。
